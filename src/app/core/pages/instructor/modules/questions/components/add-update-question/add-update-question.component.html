<section id="add-group" class="setup">
  <div class="container">
    <div class="row justify-content-between dialog-header">
      <div class="col-md-6 px-4 pt-4">
        <h2 *ngIf="addMode">Set up a new Question</h2>
        <h2 *ngIf="updateMode">Update <span class="text-third"> {{questionDetails?.title}} </span>Question</h2>
        <h2 *ngIf="viewMode"><span class="text-third"> {{questionDetails?.title}} </span>Question</h2>
      </div>
      <div class="col-md-3">
        <div class="d-flex justify-content-end">
          <i class="fa-solid fa-check fs-1 fw-bold pointer py-3 px-4" (click)="onSubmit(questionForm)"></i>
          <i
            class="fa-solid fa-xmark fs-1 fw-bold pointer py-3 px-4"
            (click)="onNoClick()"
          ></i>
        </div>
      </div>
    </div>

    <form [formGroup]="questionForm" class="my-4 p-5">
      <div class="input-group input-group-lg mb-3 d-flex flex-nowrap">
        <span class="input-group-text header" id="inputGroup-sizing-lg"
          >Title :</span
        >
        <input
          formControlName="title"
          type="text"
          class="form-control"
          aria-label="title"
          aria-describedby="title"
        />
        <span
          class="text-danger px-3"
          *ngIf="
            questionForm.get('title')?.errors &&
            questionForm.get('title')?.touched
          "
        >
          <span *ngIf="questionForm.get('title')?.getError('required')"
            >Title is required</span
          >
        </span>
      </div>

      <div class="input-group mb-3">
        <span class="input-group-text header">Description</span>
        <textarea
          formControlName="description"
          class="form-control header"
          rows="3"
          aria-label="With textarea"
        ></textarea>
      </div>

      <div formGroupName="options">
        <div class="d-flex flex-nowrap">
        <div
          class="input-group input-group-lg mb-3 me-3 d-flex flex-nowrap w-50"
        >
          <span class="input-group-text header" id="inputGroup-sizing-lg"
            >A</span
          >
          <input
            formControlName="A"
            type="text"
            class="form-control"
            aria-label="title"
            aria-describedby="title"
          />
          <span
            class="text-danger px-3"
            *ngIf="
              questionForm.get('A')?.errors && questionForm.get('A')?.touched
            "
          >
            <span *ngIf="questionForm.get('A')?.getError('required')"
              >option A is required</span
            >
          </span>
        </div>
        <div class="input-group input-group-lg mb-3 d-flex flex-nowrap w-50">
          <span class="input-group-text header" id="inputGroup-sizing-lg"
            >B</span
          >
          <input
            formControlName="B"
            type="text"
            class="form-control"
            aria-label="title"
            aria-describedby="title"
          />
          <span
            class="text-danger px-3"
            *ngIf="
              questionForm.get('B')?.errors && questionForm.get('B')?.touched
            "
          >
            <span *ngIf="questionForm.get('B')?.getError('required')"
              >option B is required</span
            >
          </span>
        </div>
        </div>

        <div class="d-flex flex-nowrap">
            <div
            class="input-group input-group-lg mb-3 me-3 d-flex flex-nowrap w-50"
            >
            <span class="input-group-text header" id="inputGroup-sizing-lg"
                >C</span
            >
            <input
                formControlName="C"
                type="text"
                class="form-control"
                aria-label="title"
                aria-describedby="title"
            />
            <span
                class="text-danger px-3"
                *ngIf="
                questionForm.get('C')?.errors && questionForm.get('C')?.touched
                "
            >
                <span *ngIf="questionForm.get('C')?.getError('required')"
                >Option C is required</span
                >
            </span>
            </div>
            <div class="input-group input-group-lg mb-3 d-flex flex-nowrap w-50">
            <span class="input-group-text header" id="inputGroup-sizing-lg"
                >D</span
            >
            <input
                formControlName="D"
                type="text"
                class="form-control"
                aria-label="title"
                aria-describedby="title"
            />
            <span
                class="text-danger px-3"
                *ngIf="
                questionForm.get('D')?.errors && questionForm.get('D')?.touched
                "
            >
                <span *ngIf="questionForm.get('D')?.getError('required')"
                >Option D is required</span
                >
            </span>
            </div>
        </div>

      </div>
      
      <div class="d-flex flex-nowrap">
          <div
            class="input-group select-group input-group-lg mb-3 me-3 d-flex flex-nowrap"
          >
          <label class="input-group-select p-3 header text-nowrap" for="difficulty"
          >Right Answer</label
        >
        <select class="form-select" formControlName="answer">
            <option *ngFor="let item of answer" class="my-3 p-3 " [value]="item">{{item}}
            </option>
        </select>
            <span
              class="text-danger px-3"
              *ngIf="
                questionForm.get('answer')?.errors &&
                questionForm.get('answer')?.touched
              "
            >
              <span *ngIf="questionForm.get('answer')?.getError('required')"
                >Right answer is required</span
              >
            </span>
          </div>

          <div
            class="input-group select-group input-group-lg mb-3 me-3 d-flex flex-nowrap"
          >
          <label class="input-group-select p-3 header text-nowrap" for="difficulty"
          >difficulty</label
        >
        <select class="form-select" formControlName="difficulty">
            <option *ngFor="let item of difficulty" class="my-3 p-3 " [value]="item">{{item}}
            </option>
        </select>
            <span
              class="text-danger px-3"
              *ngIf="
                questionForm.get('difficulty')?.errors &&
                questionForm.get('difficulty')?.touched
              "
            >
              <span *ngIf="questionForm.get('difficulty')?.getError('required')"
                >difficulty is required</span
              >
            </span>
          </div>

          <div
            class="input-group select-group input-group-lg mb-3 me-3 d-flex flex-nowrap"
          >
          <label class="input-group-select p-3 header text-nowrap" for="difficulty"
          >Category Type</label
        >
        <select class="form-select" formControlName="type">
            <option *ngFor="let item of type" class="my-3 p-3 " [value]="item">{{item}}
            </option>
        </select>
            <span
              class="text-danger px-3"
              *ngIf="
                questionForm.get('type')?.errors &&
                questionForm.get('type')?.touched
              "
            >
              <span *ngIf="questionForm.get('type')?.getError('required')"
                >Type is required</span
              >
            </span>
          </div>
          
      </div>
    </form>
  </div>
</section>
